### Receiving callback notifications

After a purchase succeeds, if you have specified a callback URL, the UDP server notifies the game server with the payment result. Implement an HTTP GET request and accept the following query parameters:

| Attribute Name | Format      | Required/Optional | Description                                                  |
| -------------- | ----------- | ----------------- | ------------------------------------------------------------ |
| payload        | Json String | Required          | The contents of the purchase order. See more in [Json payload](#json_payload). |
| signature      | String      | Required          | The PKCS1 v1.5 signature of the payload                      |

**Using the certificate**

You can verify the certificate using the Unity Client RSA Public Key. If the certificate passes verification, extract the RSA public key from the certificate and use this key to verify the signature. The signature is generated by encrypting the payload with the by RSA-SHA1 algorithm. 

Here is an exampleï¼š

**Public key:**

```
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA4qxbtUqsrvwk2FZ+F2J0EkUDKLdZSVE3qPgxzKxOrgScGrCZULLav9CPzRP91HN9GccvmShH2bsegP3RVtMdwU1eV7C2JdOW1sylCyKIgylCT8tLdQeUMRaIlt7fOfl+k3bkUouWJx8WnrQYM6a7oDeCGklIlekvpQ2NcS1eg7Jp646vBzyu8FMBiuj5LZOhCJg/XXs0kRpvSOBAPndUu/HgqD9aFaXNZBxMN++efxq6PnAVRzRdTtRur+OZSBGjXxgaBKrdbXCkEM3fkMgXP9egq6vnzCiQhZ7UDFXtXQ3DPqviqrTY5WsR9t4X6JxCXo6yGlQAEK/ft9MWN13nrQIDAQAB
```

**Request body:**

```
{
    "signature": "swWWZpg0/Y26XBohvqqC/for4nyhS5zwzru5s8AJI7YYC+ECHOk7KQjOyFw7cWxM3QNpd7N7E7Umy3vYwDXjV2Y4BLnuJy5gGIpO5jKU4xBNQf793FmI0Fk93YrU31QyiIjXymg1O/H1nKSJXqMz6bycBugiStqsuGp1/CctTHE0Dpv4hC6fZoNWIHYpPJQuKh4DyP1lgE32omcuKUh7IAQduRPDa+qiYJRCA8bV17xK6T8ajS3RlhKue9hjE2a21t8p017ViaOS5OWdzptUwgnWaFi6gs1k0cjdn7o/0QJEgk5j6a8WYE/S8F7YfsYcAwUQV4KY3ex0ULsH3GQEGA==",

    "payload": "{\"ClientId\":\"Q_sX9CXfn-rTcWmpP9VEfw\",\"CpOrderId\":\"0bckmoqhel5yd13f\",\"ProductId\":\"com.mystudio.mygame.productid1\",\"ChannelType\":\"APTOIDE\",\"Currency\":\"APPC\",\"Amount\":\"1.01\",\"Country\":\"CHINA\",\"Quantity\":1,\"Rev\":\"0\",\"Status\":\"SUCCESS\",\"PaidTime\":\"2018-09-28T06:43:20Z\",\"Extension\":\"{\\\"key\\\":\\\"value\\\"}\"}"

}
```

**A code sample showing how to verify the certificate in Go:**

```
func verify(data []byte, publicKey string, sign string) bool {

   decodePublic, err := base64.StdEncoding.DecodeString(publicKey)

   if err != nil {

       panic(err)

   }

   pubInterface, err := x509.ParsePKIXPublicKey(decodePublic)

   if err != nil {

       panic(err)

   }

   pub := pubInterface.(*rsa.PublicKey)

   decodeSign, err := base64.StdEncoding.DecodeString(sign)

   if err != nil {

       return false

   }

   sh1 := sha1.New()

   sh1.Write(data)

   hashData := sh1.Sum(nil)

   err = rsa.VerifyPKCS1v15(pub, crypto.SHA1, hashData, decodeSign)

   if err != nil {

       return false

   }

   return true

}
```

Here is the content of a <a id="json_payload">JSON payload</a>:

| Attribute Name | Format                                     | Required/Optional | Description                                                  | Example                        |
| -------------- | ------------------------------------------ | ----------------- | ------------------------------------------------------------ | ------------------------------ |
| cpOrderId      | String                                     | Required          | The unique order identifier assigned by your game.           | 0bckmoqhel5yd13f               |
| status         | String                                     | Required          | Indicates the status of the order.                           | SUCCESS                        |
| amount         | String                                     | Required          | Specifies the amount of money that the order cost.           | 1.01                           |
| productId      | String                                     | Required          | Specifies the unique identifiers of the products that belong to the order. | com.mystudio.mygame.productid1 |
| payTime        | ISO8601 yyyy-MM-ddThh:mm:ssZ, UTC timezone | Required          | The time when the order was paid.                            | 2018-09-28T06:43:20Z           |
| country        | ISO 3166-2                                 | Required          | The country where the order was paid.                        | CHINA                          |
| currency       | ISO 4217 or cryptocurrency type            | Required          | The currency of the country where the order was placed.      | APPC                           |
| quantity       | Integer                                    | Required          | The number of products in the order.                         | 1                              |
| clientId       | String                                     | Required          | The unique client identifier that is returned after your game generates a client in Unity IAP. | Q_sX9CXfn-rTcWmpP9VEfw         |
| extension      | String                                     | Optional          | The developer payload which is used to contain reference information for developers. | "{\"key\":\"value\"}"          |